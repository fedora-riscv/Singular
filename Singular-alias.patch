--- singular-4.1.0/Singular/links/ndbm.cc.orig	2017-02-20 10:33:27.000000000 -0700
+++ singular-4.1.0/Singular/links/ndbm.cc	2017-02-28 09:03:36.396520458 -0700
@@ -293,7 +293,7 @@ datum dbm_nextkey(register DBM *db)
         db->dbm_flags |= _DBM_IOERR;
 #endif
     }
-    if (((short *)db->dbm_pagbuf)[0] != 0)
+    if (db->dbm_pagbuf[0] != 0 || db->dbm_pagbuf[1] != 0)
     {
       item = makdatum(db->dbm_pagbuf, db->dbm_keyptr);
       if (item.dptr != NULL)
